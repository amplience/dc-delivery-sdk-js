<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>dc-delivery-sdk-js</title><meta name="description" content="Documentation for dc-delivery-sdk-js"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">dc-delivery-sdk-js</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>dc-delivery-sdk-js</h1></div><div class="tsd-panel tsd-typography"><h1 id="dc-delivery-sdk-js" class="tsd-anchor-link">dc-delivery-sdk-js<a href="#dc-delivery-sdk-js" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1>
<blockquote>
<p>Official Javascript SDK for the Amplience Dynamic Content Delivery API</p>
</blockquote>
<p><a href="https://badge.fury.io/js/dc-delivery-sdk-js"><img src="https://badge.fury.io/js/dc-delivery-sdk-js.svg" alt="npm version"></a></p>
<p>This SDK is designed to help build client side and server side content managed applications.</p>
<h2 id="features" class="tsd-anchor-link">Features<a href="#features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<ul>
<li>Fetch content and slots using <a href="https://docs.amplience.net/integration/deliveryapi.html#the-content-delivery-api">Content Delivery 1</a> or <a href="https://docs.amplience.net/development/contentdelivery/readme.html">Content Delivery 2</a></li>
<li>Fetch fresh content and slots for use with SSG build tools using the <a href="https://amplience.com/docs/development/freshapi/fresh-api.html">Fresh API</a></li>
<li>Fetch preview content using Virtual Staging</li>
<li>Transform content using the <a href="https://docs.amplience.net/integration/contentrenderingservice.html#the-content-rendering-service">Content Rendering Service</a></li>
<li>Localize content</li>
<li>Transform images on the fly using the <a href="http://playground.amplience.com/di/app/#/intro">Dynamic Media Service</a></li>
<li>Filter Content Items using the <a href="https://amplience.com/docs/development/contentdelivery/filterandsort.html">FilterBy</a> endpoint</li>
<li>Fetch Hierarchies using the Hierarchies endpoint in CDv2</li>
</ul>
<p>So we can have nice things:</p>
<ul>
<li>ES6 module &amp; tree-shaking support for tools capable of using <a href="https://github.com/rollup/rollup/wiki/pkg.module">ES6 imports</a> (like <a href="http://rollupjs.org/">Rollup</a>, <a href="https://webpack.js.org/">Webpack</a>, or <a href="https://parceljs.org/">Parcel</a>)</li>
<li>Backwards compatibility for Node.js-style (CommonJS) imports</li>
<li>TypeScript type definitions</li>
<li>Universal Module Definition (UMD) to support direct use in the browser</li>
</ul>
<h2 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Using npm:</p>
<pre><code class="sh"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">dc-delivery-sdk-js</span><span class="hl-1"> </span><span class="hl-3">--save</span>
</code><button type="button">Copy</button></pre>

<p>Using cdn:</p>
<pre><code class="html"><span class="hl-4">&lt;</span><span class="hl-5">script</span><span class="hl-6"> </span><span class="hl-7">src</span><span class="hl-6">=</span><span class="hl-8">&quot;https://unpkg.com/dc-delivery-sdk-js/dist/dynamicContent.browser.umd.min.js&quot;</span><span class="hl-4">&gt;&lt;/</span><span class="hl-5">script</span><span class="hl-4">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>for legacy browsers:</p>
<pre><code class="html"><span class="hl-4">&lt;</span><span class="hl-5">script</span><span class="hl-6"> </span><span class="hl-7">src</span><span class="hl-6">=</span><span class="hl-8">&quot;https://unpkg.com/dc-delivery-sdk-js/dist/dynamicContent.browser.umd.legacy.min.js&quot;</span><span class="hl-4">&gt;&lt;/</span><span class="hl-5">script</span><span class="hl-4">&gt;</span>
</code><button type="button">Copy</button></pre>

<h2 id="usage" class="tsd-anchor-link">Usage<a href="#usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>This SDK supports browser and Node.js applications using ES6 or CommonJS style imports.</p>
<p>ES6:</p>
<pre><code class="js"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">ContentClient</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;dc-delivery-sdk-js&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">client</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">ContentClient</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-10">hubName:</span><span class="hl-1"> </span><span class="hl-2">&#39;myhub&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>CommonJS:</p>
<pre><code class="js"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">ContentClient</span><span class="hl-1"> = </span><span class="hl-0">require</span><span class="hl-1">(</span><span class="hl-2">&#39;dc-delivery-sdk-js&#39;</span><span class="hl-1">).</span><span class="hl-10">ContentClient</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">client</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">ContentClient</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-10">hubName:</span><span class="hl-1"> </span><span class="hl-2">&#39;myhub&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>If your application does not use a package manager you can directly include the pre-bundled version of the SDK and access the features using the global &quot;ampDynamicContent&quot;.</p>
<pre><code class="html"><span class="hl-4">&lt;</span><span class="hl-5">script</span><span class="hl-6"> </span><span class="hl-7">src</span><span class="hl-6">=</span><span class="hl-8">&quot;https://unpkg.com/dc-delivery-sdk-js/dist/dynamicContent.browser.umd.min.js&quot;</span><span class="hl-4">&gt;&lt;/</span><span class="hl-5">script</span><span class="hl-4">&gt;</span>
</code><button type="button">Copy</button></pre>

<pre><code class="js"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">client</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-10">ampDynamicContent</span><span class="hl-1">.</span><span class="hl-0">ContentClient</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-10">hubName:</span><span class="hl-1"> </span><span class="hl-2">&#39;myhub&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>If you need to support old browsers a legacy version of the bundle is provided, however we strongly recommend using a tool like <a href="https://babeljs.io/">babel</a> in your project to compile the SDK to your exact browser requirements.</p>
<h3 id="configuration-options" class="tsd-anchor-link">Configuration options<a href="#configuration-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>account</td>
<td>Content Delivery 1 API - Required* - Account to retrieve content from</td>
</tr>
<tr>
<td>hubName</td>
<td>Content Delivery 2 API - Required* - hubName to retrieve content from - <a href="https://docs.amplience.net/development/contentdelivery/readme.html#hubname">finding the hub name</a></td>
</tr>
<tr>
<td>apiKey</td>
<td>Fresh API - Required* - API key required for use with the Fresh API service. <code>hubName</code> must also be set</td>
</tr>
<tr>
<td>retryConfig</td>
<td>Allows override of the default <a href="#override-fresh-api-retry-configuration">retry configuration</a> used by the Fresh API client</td>
</tr>
<tr>
<td>stagingEnvironment</td>
<td>If set, the SDK will request content and media from the staging environment host name specified.</td>
</tr>
<tr>
<td>previewKey</td>
<td>If set, the SDK will send an x-api-key header that contains this value, with any VSE content requests, this must be set with staging environments.</td>
</tr>
<tr>
<td>signingProxyAddress</td>
<td>If set, redirect any requests to the supplied address, this is designed for use with signed urls in the Virtual Staging Environment</td>
</tr>
<tr>
<td>locale</td>
<td>If set, the SDK will request content using the locale settings provided.</td>
</tr>
<tr>
<td>mediaHost</td>
<td>Allows users with custom hostnames to override the hostname used when constructing media URLs.</td>
</tr>
<tr>
<td>secureMediaHost</td>
<td>Allows users with custom hostnames to override the hostname used when constructing secure media URLs.</td>
</tr>
<tr>
<td>baseUrl</td>
<td>Override for the content delivery API base URL</td>
</tr>
<tr>
<td>adaptor</td>
<td>Allows custom handling of requests which makes testing and supporting non-standard environments easier.</td>
</tr>
<tr>
<td>timeout</td>
<td>If set, requests made will timeout after the number of milliseconds specified.</td>
</tr>
</tbody>
</table>
<p>* see <a href="#content-delivery-versions">Content Delivery versions</a></p>
<h3 id="content-delivery-versions" class="tsd-anchor-link">Content Delivery versions<a href="#content-delivery-versions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>In order to use the client, it must be configured with either <code>account</code> or <code>hubName</code>. If <code>apiKey</code> is set a Fresh API client will be created.</p>
<p>If <strong>account</strong> &amp; <strong>hubName</strong> are supplied, the SDK will only use the <strong>Content Delivery 2 API</strong>.
If <strong>hubName</strong> and <strong>apiKey</strong> are supplied, the SDK will only use the <strong>Fresh API</strong>.</p>
<p>To create a Fresh API client both <code>hubName</code> and <code>apiToken</code> must be specified</p>
<h3 id="fetch-content-by-delivery-id" class="tsd-anchor-link">Fetch content by delivery ID<a href="#fetch-content-by-delivery-id" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Once your client is created you can request content for a slot or content item id. This will return a promise which will resolve to the JSON of your slot or content item. If no content is found with the provided id the promise will reject with an error.</p>
<pre><code class="js"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">slotId</span><span class="hl-1"> = </span><span class="hl-2">&#39;cb671f37-0a66-46c3-a011-54ce3cdff241&#39;</span><span class="hl-1">;</span><br/><span class="hl-10">client</span><br/><span class="hl-1">  .</span><span class="hl-0">getContentItemById</span><span class="hl-1">(</span><span class="hl-10">slotId</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">then</span><span class="hl-1">((</span><span class="hl-10">content</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-10">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-10">content</span><span class="hl-1">.</span><span class="hl-10">body</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-0">catch</span><span class="hl-1">((</span><span class="hl-10">error</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-10">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;content not found&#39;</span><span class="hl-1">, </span><span class="hl-10">error</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<p>The format of the content object will be specific to your content types, which define the JSON structure of content items and slots, however a set of standard metadata is always included in a property called &quot;_meta&quot;.</p>
<p>If the slot or content item requested returns a graph of content, for example a carousel may also return linked slides, these will be included inline in the JSON.</p>
<p>Example:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-12">&quot;_meta&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-12">&quot;schema&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;https://www.anyafinn.online/content-types/carousel.json&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-12">&quot;deliveryId&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;543246b7-5948-4849-884c-b295402a95b4&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-12">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;example-carousel&quot;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-12">&quot;slides&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-12">&quot;_meta&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-12">&quot;schema&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;https://www.anyafinn.online/content-types/slide.json&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-12">&quot;deliveryId&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;d6ccc158-6ab7-48d0-aa85-d9fbf2aef000&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-12">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;example-slide&quot;</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      </span><span class="hl-12">&quot;heading&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Free shipping until Sunday!&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="fetch-content-by-delivery-key-content-delivery-2-and-fresh-api-only" class="tsd-anchor-link">Fetch content by delivery key <em>(Content Delivery 2 and Fresh API only)</em><a href="#fetch-content-by-delivery-key-content-delivery-2-and-fresh-api-only" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p><strong>Note:</strong> Fetching content by delivery key via <code>getContentItemByKey()</code> is only supported when using <a href="#content-delivery-versions">Content Delivery 2 or Fresh API</a></p>
<p>Once you have <a href="https://docs.amplience.net/development/delivery-keys/readme.html">set a delivery key for a slot or content item</a>, the content item must be published before it can be retrieved using this SDK.</p>
<p>The <code>getContentItemByKey()</code> method will return a promise which will resolve to the JSON of your slot or content item. If no content is found with the provided key the promise will reject with an error.</p>
<pre><code class="js"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">client</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">ContentClient</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-10">hubName:</span><span class="hl-1"> </span><span class="hl-2">&#39;myhub&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">slot</span><span class="hl-1"> = </span><span class="hl-2">&#39;homepage-banner-slot&#39;</span><span class="hl-1">;</span><br/><span class="hl-10">client</span><br/><span class="hl-1">  .</span><span class="hl-0">getContentItemByKey</span><span class="hl-1">(</span><span class="hl-10">slot</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">then</span><span class="hl-1">((</span><span class="hl-10">content</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-10">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-10">content</span><span class="hl-1">.</span><span class="hl-10">body</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-0">catch</span><span class="hl-1">((</span><span class="hl-10">error</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-10">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;content not found&#39;</span><span class="hl-1">, </span><span class="hl-10">error</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<p>The format of the content object will be specific to your content types, which define the JSON structure of content items and slots, however a set of standard metadata is always included in a property called &quot;_meta&quot; along with the <code>deliveryKey</code> on content items that have it defined.</p>
<p>If the slot or content item requested returns a graph of content, for example a carousel may also return linked slides, these will be included inline in the JSON.</p>
<p>The delivery key</p>
<p>Example:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-12">&quot;_meta&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-12">&quot;schema&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;https://www.anyafinn.online/content-types/carousel.json&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-12">&quot;deliveryId&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;543246b7-5948-4849-884c-b295402a95b4&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-12">&quot;deliveryKey&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;homepage-banner-slot&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-12">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;example-carousel&quot;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-12">&quot;slides&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-12">&quot;_meta&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-12">&quot;schema&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;https://www.anyafinn.online/content-types/slide.json&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-12">&quot;deliveryId&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;d6ccc158-6ab7-48d0-aa85-d9fbf2aef000&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-12">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;example-slide&quot;</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      </span><span class="hl-12">&quot;heading&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Free shipping until Sunday!&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="filtering-content-items" class="tsd-anchor-link">Filtering Content Items<a href="#filtering-content-items" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p><strong>Note:</strong> Filtering content via <code>filterBy() | filterByContentType() | filterByParentId() | filterContentItems()</code> is only supported when using <a href="#content-delivery-versions">Content Delivery 2 or Fresh API</a>.</p>
<p>Filtering by Content Type or Parent ID is enabled by default. You can also filter by any other field in your schema once <a href="https://amplience.com/docs/development/contentdelivery/filterandsort.html">you enable it</a>.</p>
<h4 id="constructing-a-request" class="tsd-anchor-link">Constructing a request<a href="#constructing-a-request" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4>
<p>The <code>filterBy() | filterByContentType() | filterByParentId()</code> method will return a instance of the <code>FilterBy</code> class which has helper functions to construct a filterBy request.</p>
<p><code>filterByContentType() | filterByParentId()</code> are helper methods.</p>
<pre><code class="ts"><span class="hl-10">client</span><span class="hl-1">.</span><span class="hl-0">filterByContentType</span><span class="hl-1">(</span><span class="hl-2">&#39;https://bigcontent.io/blog.json&#39;</span><span class="hl-1">);</span><br/><span class="hl-13">// is equivalent to this:</span><br/><span class="hl-10">client</span><span class="hl-1">.</span><span class="hl-0">filterBy</span><span class="hl-1">(</span><span class="hl-2">&#39;/_meta/schema&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;https://bigcontent.io/blog.json&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-10">client</span><span class="hl-1">.</span><span class="hl-0">filterByParentId</span><span class="hl-1">(</span><span class="hl-2">&#39;c6d9e038-591b-4ca2-874b-da354f5d6e61&#39;</span><span class="hl-1">);</span><br/><span class="hl-13">// is equivalent to this:</span><br/><span class="hl-10">client</span><span class="hl-1">.</span><span class="hl-0">filterBy</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;/_meta/hierarchy/parentId&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;c6d9e038-591b-4ca2-874b-da354f5d6e61&#39;</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>Calling <code>request</code> executes the request returning a <code>Promise</code> if no content is found an empty response object will be returned. If invalid options are provided it will reject with an error.</p>
<pre><code class="ts"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">client</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">ContentClient</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-10">hubName:</span><span class="hl-1"> </span><span class="hl-2">&#39;myhub&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">res</span><span class="hl-1"> = </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-10">client</span><br/><span class="hl-1">  .</span><span class="hl-0">filterByContentType</span><span class="hl-1">(</span><span class="hl-2">&#39;https://example.com/blog-post-filter-and-sort&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">filterBy</span><span class="hl-1">(</span><span class="hl-2">&#39;/category&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;Homewares&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">sortBy</span><span class="hl-1">(</span><span class="hl-2">&#39;readTime&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;DESC&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">page</span><span class="hl-1">(</span><span class="hl-14">2</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">request</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-10">format:</span><span class="hl-1"> </span><span class="hl-2">&#39;inlined&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">depth:</span><span class="hl-1"> </span><span class="hl-2">&#39;all&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-10">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-10">res</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>The response from <code>filterBy() | filterByContentType() | filterByParentId() | filterContentItems()</code> will match the API response but with an added helper function if the next page is available under <code>page.next()</code>.</p>
<pre><code class="js"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-15">responses</span><span class="hl-1">: [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-10">content:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-10">_meta:</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-10">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Homewares blog post&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-10">schema:</span><span class="hl-1"> </span><span class="hl-2">&#39;https://example.com/blog-post-filter-and-sort&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-10">deliveryKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;new/homeware-collection/about&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-10">deliveryId:</span><span class="hl-1"> </span><span class="hl-2">&#39;1024dc7a-f255-46a7-b374-be85081a562f&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">        </span><span class="hl-10">title:</span><span class="hl-1"> </span><span class="hl-2">&#39;All about our new homeware collection&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-10">category:</span><span class="hl-1"> </span><span class="hl-2">&#39;Homewares&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-10">date:</span><span class="hl-1"> </span><span class="hl-2">&#39;2021-05-05&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-10">ranking:</span><span class="hl-1"> </span><span class="hl-14">4</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-10">description:</span><br/><span class="hl-1">          </span><span class="hl-2">&#39;Our new homeware has just landed. Find out how you can fill your home with some exciting designs.&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-10">readTime:</span><span class="hl-1"> </span><span class="hl-14">5</span><span class="hl-1">,</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-10">content:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-10">_meta:</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-10">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Summer collection blog&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-10">schema:</span><span class="hl-1"> </span><span class="hl-2">&#39;https://example.com/blog-post-filter-and-sort&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-10">deliveryKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;new/summer-fashion/about&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-10">deliveryId:</span><span class="hl-1"> </span><span class="hl-2">&#39;fb466729-b604-496f-be36-521013a752d2&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">        </span><span class="hl-10">title:</span><span class="hl-1"> </span><span class="hl-2">&#39;Our new summer collection blog&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-10">category:</span><span class="hl-1"> </span><span class="hl-2">&#39;Homewares&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-10">date:</span><span class="hl-1"> </span><span class="hl-2">&#39;2021-05-05&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-10">ranking:</span><span class="hl-1"> </span><span class="hl-14">2</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-10">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;A sneak peak at our new summer collection&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-10">readTime:</span><span class="hl-1"> </span><span class="hl-14">4</span><span class="hl-1">,</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-15">page</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-15">responseCount</span><span class="hl-1">: </span><span class="hl-14">2</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-15">next</span><span class="hl-1">: () </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-13">// next page</span><br/><span class="hl-1">    </span><span class="hl-15">nextCursor</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-2">&#39;eyJzb3J0S2V5IjoiXCIgNUAmJTYwOTJiZjBhNGNlZGZkMDAwMWVhZTY3ZCIsIml0ZW1JZCI6ImFtcHByb2R1Y3QtZG9jOjg2Y2E2YjgxLTJkOGYtNDRiMi1iNGQ1LTFlZjU0MzgzMzMyMyJ9&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h4 id="alternative-constructing-a-filterby-request" class="tsd-anchor-link">Alternative constructing a filterBy request<a href="#alternative-constructing-a-filterby-request" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4>
<p>We also provide a way of requesting by a request object which is identical to the the request above</p>
<pre><code class="ts"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">client</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">ContentClient</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-10">hubName:</span><span class="hl-1"> </span><span class="hl-2">&#39;myhub&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">res</span><span class="hl-1"> = </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-10">client</span><span class="hl-1">.</span><span class="hl-0">filterContentItems</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-10">filterBy:</span><span class="hl-1"> [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-10">path:</span><span class="hl-1"> </span><span class="hl-2">&#39;/_meta/schema&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-10">value:</span><span class="hl-1"> </span><span class="hl-2">&#39;https://example.com/blog-post-filter-and-sort&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-10">path:</span><span class="hl-1"> </span><span class="hl-2">&#39;/category&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-10">value:</span><span class="hl-1"> </span><span class="hl-2">&#39;Homewares&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-10">sortBy:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-10">key:</span><span class="hl-1"> </span><span class="hl-2">&#39;readTime&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">order:</span><span class="hl-1"> </span><span class="hl-2">&#39;DESC&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-10">page:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-10">size:</span><span class="hl-1"> </span><span class="hl-14">2</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-10">parameters:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-10">format:</span><span class="hl-1"> </span><span class="hl-2">&#39;inlined&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">depth:</span><span class="hl-1"> </span><span class="hl-2">&#39;all&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-10">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-10">res</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="fetching-hierarchies-in-a-single-request" class="tsd-anchor-link">Fetching hierarchies in a single request<a href="#fetching-hierarchies-in-a-single-request" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p><strong>Note:</strong> Fetching content via <code>getByHierarchy()</code> is only supported when using <a href="#content-delivery-versions">Content Delivery 2 or Fresh API</a>.
This method wraps the Hierarchies endpoint of CDv2 and allows the fetching of hierarchical content from it's root node.</p>
<pre><code class="ts"><span class="hl-10">client</span><span class="hl-1">.</span><span class="hl-0">getByHierarchy</span><span class="hl-1">({</span><span class="hl-10">rootId:</span><span class="hl-1"> </span><span class="hl-2">&#39;90d6fa96-6ce0-4332-b995-4e6c50b1e233&#39;</span><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<p>The response from the delivery service is then reconstructed from the flat data structure of the response into a content tree</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-12">&quot;content&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-12">&quot;_meta&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-12">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Root&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-12">&quot;schema&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;https://hierarchies.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-12">&quot;hierarchy&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-12">&quot;root&quot;</span><span class="hl-1">: </span><span class="hl-3">true</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      </span><span class="hl-12">&quot;deliveryId&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;90d6fa96-6ce0-4332-b995-4e6c50b1e233&quot;</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-12">&quot;propertyName1&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Root&quot;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-12">&quot;children&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-12">&quot;content&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-12">&quot;_meta&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">          </span><span class="hl-12">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;A&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-12">&quot;schema&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;https://hierarchies.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-12">&quot;hierarchy&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">            </span><span class="hl-12">&quot;parentId&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;90d6fa96-6ce0-4332-b995-4e6c50b1e233&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-12">&quot;root&quot;</span><span class="hl-1">: </span><span class="hl-3">false</span><br/><span class="hl-1">          },</span><br/><span class="hl-1">          </span><span class="hl-12">&quot;deliveryId&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;1ebab07d-acd8-4e19-a614-ec632cdf95d5&quot;</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">        </span><span class="hl-12">&quot;propertyName1&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;A&quot;</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      </span><span class="hl-12">&quot;children&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">          </span><span class="hl-12">&quot;content&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">            </span><span class="hl-12">&quot;_meta&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">              </span><span class="hl-12">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;B&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">              </span><span class="hl-12">&quot;schema&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;https://hierarchies.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">              </span><span class="hl-12">&quot;hierarchy&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">                </span><span class="hl-12">&quot;parentId&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;1ebab07d-acd8-4e19-a614-ec632cdf95d5&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-12">&quot;root&quot;</span><span class="hl-1">: </span><span class="hl-3">false</span><br/><span class="hl-1">              },</span><br/><span class="hl-1">              </span><span class="hl-12">&quot;deliveryId&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;4db37251-0c86-4f45-ad8a-583ebf6efc80&quot;</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">            </span><span class="hl-12">&quot;propertyName1&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;B&quot;</span><br/><span class="hl-1">          },</span><br/><span class="hl-1">          </span><span class="hl-12">&quot;children&quot;</span><span class="hl-1">: []</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">          </span><span class="hl-12">&quot;content&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">            </span><span class="hl-12">&quot;_meta&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">              </span><span class="hl-12">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;C&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">              </span><span class="hl-12">&quot;schema&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;https://hierarchies.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">              </span><span class="hl-12">&quot;hierarchy&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">                </span><span class="hl-12">&quot;parentId&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;1ebab07d-acd8-4e19-a614-ec632cdf95d5&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-12">&quot;root&quot;</span><span class="hl-1">: </span><span class="hl-3">false</span><br/><span class="hl-1">              },</span><br/><span class="hl-1">              </span><span class="hl-12">&quot;deliveryId&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;68676cda-5ab2-4a5e-bcfb-58c5cf3eb8ed&quot;</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">            </span><span class="hl-12">&quot;propertyName1&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;C&quot;</span><br/><span class="hl-1">          },</span><br/><span class="hl-1">          </span><span class="hl-12">&quot;children&quot;</span><span class="hl-1">: []</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">      ]</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="fetching-multiple-content-items-or-slots-in-a-single-request" class="tsd-anchor-link">Fetching multiple Content Items or Slots in a single request<a href="#fetching-multiple-content-items-or-slots-in-a-single-request" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p><strong>Note:</strong> Fetching content via <code>getContentItemsById() | getContentItemsByKey() | getContentItems() | fetchContentItems()</code> is only supported when using <a href="#content-delivery-versions">Content Delivery 2 or Fresh API</a>.</p>
<p>Wraps <a href="https://amplience.com/docs/api/dynamic-content/delivery/content-delivery-2/index.html#operation/multiGetContent"><code>/content/fetch</code></a> endpoint. <a href="https://amplience.com/docs/development/contentdelivery/readme.html#multipleitems">Additional documentation</a>.</p>
<h4 id="get-content-items-by-delivery-id" class="tsd-anchor-link">Get content items by delivery ID<a href="#get-content-items-by-delivery-id" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4>
<p>Fetch multiple by delivery id e.g.,</p>
<pre><code class="ts"><span class="hl-10">client</span><span class="hl-1">.</span><span class="hl-0">getContentItemsById</span><span class="hl-1">([</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;d6ccc158-6ab7-48d0-aa85-d9fbf2aef000&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;b322f84a-9719-42ff-a6a0-6e2924608d19&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">]);</span>
</code><button type="button">Copy</button></pre>

<h4 id="get-content-items-by-key" class="tsd-anchor-link">Get content items by key<a href="#get-content-items-by-key" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4>
<p>Fetch multiple by delivery key e.g.,</p>
<pre><code class="ts"><span class="hl-10">client</span><span class="hl-1">.</span><span class="hl-0">getContentItemsByKey</span><span class="hl-1">([</span><span class="hl-2">&#39;blog/article-1&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;blog/article-2&#39;</span><span class="hl-1">]);</span>
</code><button type="button">Copy</button></pre>

<h4 id="get-content-items" class="tsd-anchor-link">Get content items<a href="#get-content-items" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4>
<p>Less verbose version of <code>fetchContentItems</code> allowing fetching of content by both delivery keys and ids as well as per request parameters and global parameter overrides</p>
<pre><code class="ts"><span class="hl-10">client</span><span class="hl-1">.</span><span class="hl-0">getContentItems</span><span class="hl-1">([{</span><br/><span class="hl-1">  </span><span class="hl-10">key:</span><span class="hl-1"> </span><span class="hl-2">&#39;blog/article-1&#39;</span><span class="hl-1">, </span><span class="hl-10">overrides:</span><span class="hl-1"> {</span><span class="hl-10">locale:</span><span class="hl-1"> </span><span class="hl-2">&#39;en-US&#39;</span><span class="hl-1">}</span><br/><span class="hl-1">  </span><span class="hl-10">key</span><span class="hl-1">: </span><span class="hl-2">&#39;blog/article-2&#39;</span><br/><span class="hl-1">}], {</span><span class="hl-10">locale:</span><span class="hl-1"> </span><span class="hl-2">&#39;en&#39;</span><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h4 id="fetch-content-items" class="tsd-anchor-link">Fetch content items<a href="#fetch-content-items" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4>
<p>Allows full construction of the request body.</p>
<pre><code class="ts"><span class="hl-10">client</span><span class="hl-1">.</span><span class="hl-0">fetchContentItems</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-10">requests:</span><span class="hl-1"> [{</span><br/><span class="hl-1">    </span><span class="hl-10">key:</span><span class="hl-1"> </span><span class="hl-2">&#39;blog/article-1&#39;</span><span class="hl-1">, </span><span class="hl-10">overrides:</span><span class="hl-1"> {</span><span class="hl-10">locale:</span><span class="hl-1"> </span><span class="hl-2">&#39;en&#39;</span><span class="hl-1">}</span><br/><span class="hl-1">    </span><span class="hl-10">key</span><span class="hl-1">: </span><span class="hl-2">&#39;blog/article-2&#39;</span><br/><span class="hl-1">  }],</span><br/><span class="hl-1">  </span><span class="hl-10">parameters:</span><span class="hl-1"> {</span><span class="hl-10">depth:</span><span class="hl-1"> </span><span class="hl-2">&#39;root&#39;</span><span class="hl-1">}</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="preview-staging-content" class="tsd-anchor-link">Preview staging content<a href="#preview-staging-content" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>By default, the content client will request content from the production content delivery services. When a user wants to preview content before it is published you can re-point the client to a virtual staging environment (VSE):</p>
<pre><code class="js"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">client</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">ContentClient</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-10">account:</span><span class="hl-1"> </span><span class="hl-2">&#39;myaccount&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">stagingEnvironment:</span><span class="hl-1"> </span><span class="hl-2">&#39;fhboh562c3tx1844c2ycknz96.staging.bigcontent.io&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>To use Preview keys to do authentication with the VSE a user should simply add the Preview Key to your client config:</p>
<pre><code class="js"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">client</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">ContentClient</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-10">account:</span><span class="hl-1"> </span><span class="hl-2">&#39;myaccount&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">stagingEnvironment:</span><span class="hl-1"> </span><span class="hl-2">&#39;fhboh562c3tx1844c2ycknz96.staging.bigcontent.io&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">previewKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;amp_vse_XXXXXXXXXXXXXX.XXXXXXXXXXXXXXXXXXXX==&#39;</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>To use a Signing Proxy to do signed url authentication with the VSE, a user should set the <code>signingProxyAddress</code> field in the config, that will redirect all requests through the address specified (NOTE: a VSE domain must also be set):</p>
<pre><code class="js"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">client</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">ContentClient</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-10">account:</span><span class="hl-1"> </span><span class="hl-2">&#39;myaccount&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">stagingEnvironment:</span><span class="hl-1"> </span><span class="hl-2">&#39;fhboh562c3tx1844c2ycknz96.staging.bigcontent.io&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">signingProxyAddress:</span><span class="hl-1"> </span><span class="hl-2">&quot;https//proxy.bigcontent.io&quot;</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>Dynamic Content generates a VSE for each user and typically passes the &quot;stagingEnvironment&quot; value into your application using a URL parameter. This allows each user to effectively have their own staging environment which allows content producers to work in parallel.</p>
<h4 id="previewing-staging-content-for-a-given-snapshot-or-at-a-given-point-in-time-time-machine" class="tsd-anchor-link">Previewing staging content for a given Snapshot or at a given point in time (time machine)<a href="#previewing-staging-content-for-a-given-snapshot-or-at-a-given-point-in-time-time-machine" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4>
<p>You can use the <code>StagingEnvironmentFactory</code> to generate a new staging environment that is 'pinned' to a Snapshot or a timestamp, which then can be passed into the ContentClient.</p>
<p>Previewing content for a given Snapshot:</p>
<pre><code class="js"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">factory</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">StagingEnvironmentFactory</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;fhboh562c3tx1844c2ycknz96.staging.bigcontent.io&#39;</span><br/><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">stagingEnvironmentAtSnapshot</span><span class="hl-1"> = </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-10">factory</span><span class="hl-1">.</span><span class="hl-0">generateDomain</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-10">snapshotId:</span><span class="hl-1"> </span><span class="hl-2">&#39;abcdef123456&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">client</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">ContentClient</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-10">account:</span><span class="hl-1"> </span><span class="hl-2">&#39;myaccount&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">stagingEnvironment:</span><span class="hl-1"> </span><span class="hl-10">stagingEnvironmentAtSnapshot</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>Previewing content at a given timestamp (epoch milliseconds):</p>
<pre><code class="js"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">factory</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">StagingEnvironmentFactory</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;fhboh562c3tx1844c2ycknz96.staging.bigcontent.io&#39;</span><br/><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">stagingEnvironmentAtTimestamp</span><span class="hl-1"> = </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-10">factory</span><span class="hl-1">.</span><span class="hl-0">generateDomain</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-10">timestamp:</span><span class="hl-1"> </span><span class="hl-14">1546264721816</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">client</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">ContentClient</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-10">account:</span><span class="hl-1"> </span><span class="hl-2">&#39;myaccount&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">stagingEnvironment:</span><span class="hl-1"> </span><span class="hl-10">stagingEnvironmentAtTimestamp</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="localize-content" class="tsd-anchor-link">Localize content<a href="#localize-content" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Content types can make use of <a href="https://docs.amplience.net/production/localization.html#field-level-localization">field-level localization</a> to give content producers the ability to enter locale specific values for a field.</p>
<p>By default, every locale value will be returned in the content object:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-12">&quot;_meta&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-12">&quot;schema&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;https://www.anyafinn.online/content-types/slide.json&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-12">&quot;deliveryId&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;d6ccc158-6ab7-48d0-aa85-d9fbf2aef000&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-12">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;example-slide&quot;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-12">&quot;heading&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-12">&quot;_meta&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-12">&quot;schema&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;http://bigcontent.io/cms/schema/v1/core#/definitions/localized-value&quot;</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-12">&quot;values&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">      {</span><br/><span class="hl-1">        </span><span class="hl-12">&quot;locale&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;en-US&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-12">&quot;value&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Free shipping until Sunday!&quot;</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      {</span><br/><span class="hl-1">        </span><span class="hl-12">&quot;locale&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;de-de&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-12">&quot;value&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Kostenloser Versand bis Sonntag!&quot;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    ]</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>If desired, you can configure the SDK with a locale query. If set, the locale matching is performed server side and only a single value will be returned.</p>
<pre><code class="js"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">client</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">ContentClient</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-10">account:</span><span class="hl-1"> </span><span class="hl-2">&#39;myaccount&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">locale:</span><span class="hl-1"> </span><span class="hl-2">&#39;en-US,en-*&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>Returns</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-12">&quot;_meta&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-12">&quot;schema&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;https://www.anyafinn.online/content-types/slide.json&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-12">&quot;deliveryId&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;d6ccc158-6ab7-48d0-aa85-d9fbf2aef000&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-12">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;example-slide&quot;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-12">&quot;heading&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Free shipping until Sunday!&quot;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="transform-images" class="tsd-anchor-link">Transform images<a href="#transform-images" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>In addition to serving image and Video content, Dynamic Content can also transform media on the fly allowing you to target multiple channels and deliver just the pixels required from a single master asset.</p>
<p>The SDK attaches helper functions to Image and Video properties to simplify constructing Dynamic Media URLs:</p>
<pre><code class="js"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">ImageFormat</span><span class="hl-1"> = </span><span class="hl-0">require</span><span class="hl-1">(</span><span class="hl-2">&#39;dc-delivery-sdk-js&#39;</span><span class="hl-1">).</span><span class="hl-10">ImageFormat</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">imageUrl</span><span class="hl-1"> = </span><span class="hl-10">content</span><span class="hl-1">.</span><span class="hl-10">body</span><span class="hl-1">.</span><span class="hl-10">imageProperty</span><br/><span class="hl-1">  .</span><span class="hl-0">url</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-0">width</span><span class="hl-1">(</span><span class="hl-14">500</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">height</span><span class="hl-1">(</span><span class="hl-14">500</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">sharpen</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-0">format</span><span class="hl-1">(</span><span class="hl-10">ImageFormat</span><span class="hl-1">.</span><span class="hl-11">WEBP</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">build</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<p>See the SDK <a href="https://amplience.github.io/dc-delivery-sdk-js/">reference documentation</a> for further details.</p>
<h3 id="transform-content" class="tsd-anchor-link">Transform content<a href="#transform-content" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Using the <a href="https://docs.amplience.net/integration/contentrenderingservice.html#the-content-rendering-service">Content Rendering Service</a>, you can convert the JSON content into any format you choose by applying a template previously setup in the back-office. This is typically used to convert content into fragments of HTML, XML or even rewrite the JSON.</p>
<pre><code class="js"><span class="hl-10">client</span><br/><span class="hl-1">  .</span><span class="hl-0">renderContentItem</span><span class="hl-1">(</span><span class="hl-2">&#39;b322f84a-9719-42ff-a6a0-6e2924608d19&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;templateName&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">then</span><span class="hl-1">((</span><span class="hl-10">response</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-10">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-10">response</span><span class="hl-1">.</span><span class="hl-10">body</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-0">catch</span><span class="hl-1">((</span><span class="hl-10">error</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-10">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;unable to find content&#39;</span><span class="hl-1">, </span><span class="hl-10">error</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<h2 id="advanced" class="tsd-anchor-link">Advanced<a href="#advanced" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<h3 id="override-fresh-api-retry-configuration" class="tsd-anchor-link">Override Fresh API retry configuration<a href="#override-fresh-api-retry-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>By default, if a 429 status code is received the SDK will retry up to 3 more times using exponential backoff. The configuration options below may be overridden.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>retries</td>
<td><code>Number</code></td>
<td><code>3</code></td>
<td>The number of times to retry before failing.</td>
</tr>
<tr>
<td>retryDelay</td>
<td><code>Function</code></td>
<td><code>exponentialDelay</code></td>
<td>A callback to further control the delay in milliseconds between retried requests. By default there is an exponential delay between retries (<a href="https://developers.google.com/analytics/devguides/reporting/core/v3/errors#backoff">Exponential Backoff</a>). The function is passed <code>retryCount</code> and <code>error</code>.</td>
</tr>
<tr>
<td>retryCondition</td>
<td><code>Function</code></td>
<td><code>isThrottled</code></td>
<td>A callback to further control if a request should be retried. By default, it retries if the response status is 429.</td>
</tr>
</tbody>
</table>
<h3 id="detecting-content-types" class="tsd-anchor-link">Detecting content types<a href="#detecting-content-types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>When displaying content you may need to detect the content type to decide which UI widget should be used to display the content.</p>
<p>Every content item in the body includes a built-in property _meta.schema which identifies the content type that was used to create that fragment of content. This can be used by your application to influence how the content is processed.</p>
<p>Example:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-12">&quot;_meta&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-12">&quot;schema&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;https://www.anyafinn.online/content-types/slot.json&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-12">&quot;deliveryId&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;62ece7d6-b541-411c-b776-0a6704ede1fb&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-12">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;homepage-hero&quot;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-12">&quot;slotContent&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-12">&quot;_meta&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-12">&quot;schema&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;https://www.anyafinn.online/content-types/banner.json&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-12">&quot;deliveryId&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;28583572-c964-4755-825b-044718312a29&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-12">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;example-banner&quot;</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-12">&quot;heading&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Free shipping until Sunday!&quot;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="js"><span class="hl-9">import</span><span class="hl-1"> </span><span class="hl-10">React</span><span class="hl-1"> </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;react&#39;</span><span class="hl-1">;</span><br/><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">Banner</span><span class="hl-1">, </span><span class="hl-10">Carousel</span><span class="hl-1">, </span><span class="hl-10">Empty</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./components&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-16">App</span><span class="hl-1"> </span><span class="hl-3">extends</span><span class="hl-1"> </span><span class="hl-16">React</span><span class="hl-1">.</span><span class="hl-16">Component</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-13">//...</span><br/><br/><span class="hl-1">  </span><span class="hl-0">getComponentForContentType</span><span class="hl-1">(</span><span class="hl-10">contentItem</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-9">switch</span><span class="hl-1"> (</span><span class="hl-10">contentItem</span><span class="hl-1">.</span><span class="hl-10">_meta</span><span class="hl-1">.</span><span class="hl-10">schema</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-9">case</span><span class="hl-1"> </span><span class="hl-2">&#39;https://www.anyafinn.online/content-types/banner.json&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-9">return</span><span class="hl-1"> </span><span class="hl-10">Banner</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-9">case</span><span class="hl-1"> </span><span class="hl-2">&#39;https://www.anyafinn.online/content-types/carousel.json&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-9">return</span><span class="hl-1"> </span><span class="hl-10">Carousel</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-9">default</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-9">return</span><span class="hl-1"> </span><span class="hl-10">Empty</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-0">render</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">slotContent</span><span class="hl-1"> = </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-10">props</span><span class="hl-1">.</span><span class="hl-10">content</span><span class="hl-1">.</span><span class="hl-10">slotContent</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">TagName</span><span class="hl-1"> = </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-0">getComponentForContentType</span><span class="hl-1">(</span><span class="hl-10">slotContent</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-9">return</span><span class="hl-1"> </span><span class="hl-4">&lt;</span><span class="hl-16">TagName</span><span class="hl-1"> </span><span class="hl-7">content</span><span class="hl-1">=</span><span class="hl-3">{</span><span class="hl-10">slotContent</span><span class="hl-3">}</span><span class="hl-1"> </span><span class="hl-4">/&gt;</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="strongly-typed-content" class="tsd-anchor-link">Strongly typed content<a href="#strongly-typed-content" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Applications that support TypeScript can optionally create interfaces to represent content types within the code. This can be passed as a generic parameter when loading content which will result in a typed content body.</p>
<pre><code class="typescript"><span class="hl-3">interface</span><span class="hl-1"> </span><span class="hl-16">Banner</span><span class="hl-1"> </span><span class="hl-3">extends</span><span class="hl-1"> </span><span class="hl-16">ContentBody</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-10">heading</span><span class="hl-1">: </span><span class="hl-16">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-10">client</span><span class="hl-1">.</span><span class="hl-0">getContentItem</span><span class="hl-1">&lt;</span><span class="hl-16">Banner</span><span class="hl-1">&gt;(</span><span class="hl-2">&#39;ec5d12cc-b1bb-4df4-a7b3-fd7796326cfe&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<pre><code class="ts"><span class="hl-3">interface</span><span class="hl-1"> </span><span class="hl-16">BlogPost</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-10">title</span><span class="hl-1">: </span><span class="hl-16">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">category</span><span class="hl-1">: </span><span class="hl-16">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">date</span><span class="hl-1">: </span><span class="hl-16">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">ranking</span><span class="hl-1">: </span><span class="hl-16">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">description</span><span class="hl-1">: </span><span class="hl-16">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">readTime</span><span class="hl-1">: </span><span class="hl-16">number</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">res</span><span class="hl-1"> = </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-10">client</span><br/><span class="hl-1">  .</span><span class="hl-0">filterByContentType</span><span class="hl-1">&lt;</span><span class="hl-16">BlogPost</span><span class="hl-1">&gt;(</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;https://example.com/blog-post-filter-and-sort&#39;</span><br/><span class="hl-1">  )</span><br/><span class="hl-1">  .</span><span class="hl-0">request</span><span class="hl-1">();</span><br/><br/><span class="hl-10">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-10">res</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="custom-media-cnames" class="tsd-anchor-link">Custom media CNAMEs<a href="#custom-media-cnames" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>If you have previously configured custom CNAMEs for your media hosting, you can override the hostname used by the SDK when constructing image URLs as shown below:</p>
<pre><code class="js"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">client</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">ContentClient</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-10">account:</span><span class="hl-1"> </span><span class="hl-2">&#39;myaccount&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">mediaHost:</span><span class="hl-1"> </span><span class="hl-2">&#39;images.mybrand.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">secureMediaHost:</span><span class="hl-1"> </span><span class="hl-2">&#39;images.mybrand.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h2 id="documentation" class="tsd-anchor-link">Documentation<a href="#documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Please use the following documentation resources to assist building your application:</p>
<ul>
<li>Dynamic Content SDK <a href="https://amplience.github.io/dc-delivery-sdk-js/">Reference documentation</a></li>
<li>Dynamic Content Delivery API <a href="https://docs.amplience.net/integration/deliveryapi.html#the-content-delivery-api">Reference documentation</a></li>
<li>Dynamic Content Delivery API 2 <a href="https://amplience.com/docs/development/contentdelivery/readme.html">Reference documentation</a></li>
<li>Dynamic Content Fresh API <a href="https://amplience.com/docs/development/contentdelivery/filterapiintro.html">Reference documentation</a></li>
<li>Dynamic Content <a href="https://docs.amplience.net/">User guide</a></li>
</ul>
<h2 id="getting-help" class="tsd-anchor-link">Getting Help<a href="#getting-help" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>If you need help using the SDK please reach out using one of the following channels:</p>
<ul>
<li><a href="https://amplience.github.io/dc-delivery-sdk-js/index.html">SDK documentation</a></li>
<li>Ask a question on <a href="https://stackoverflow.com/">StackOverflow</a> using the tag <code>amplience-dynamic-content</code></li>
<li>Open a support ticket with <a href="https://support.amplience.com/">Amplience Support</a></li>
<li>Contact your <a href="https://amplience.com/customer-success">Amplience Customer Success</a> representative</li>
<li>If you have found a bug please report it by <a href="https://github.com/amplience/dc-delivery-sdk-js/issues/new">opening an issue</a></li>
</ul>
<h2 id="license" class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>This software is licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>,</p>
<p>Copyright 2019-2021 Amplience</p>
<p>Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p>
<pre><code>http://www.apache.org/licenses/LICENSE-2.0
</code></pre>
<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p>
<p>..</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#dc-delivery-sdk-js"><span>dc-<wbr/>delivery-<wbr/>sdk-<wbr/>js</span></a><ul><li><a href="#features"><span>Features</span></a></li><li><a href="#installation"><span>Installation</span></a></li><li><a href="#usage"><span>Usage</span></a></li><li><ul><li><a href="#configuration-options"><span>Configuration options</span></a></li><li><a href="#content-delivery-versions"><span>Content <wbr/>Delivery versions</span></a></li><li><a href="#fetch-content-by-delivery-id"><span>Fetch content by delivery <wbr/>ID</span></a></li><li><a href="#fetch-content-by-delivery-key-content-delivery-2-and-fresh-api-only"><span>Fetch content by delivery key (<wbr/>Content <wbr/>Delivery 2 and <wbr/>Fresh <wbr/>API only)</span></a></li><li><a href="#filtering-content-items"><span>Filtering <wbr/>Content <wbr/>Items</span></a></li><li><ul><li><a href="#constructing-a-request"><span>Constructing a request</span></a></li><li><a href="#alternative-constructing-a-filterby-request"><span>Alternative constructing a filter<wbr/>By request</span></a></li></ul></li><li><a href="#fetching-hierarchies-in-a-single-request"><span>Fetching hierarchies in a single request</span></a></li><li><a href="#fetching-multiple-content-items-or-slots-in-a-single-request"><span>Fetching multiple <wbr/>Content <wbr/>Items or <wbr/>Slots in a single request</span></a></li><li><ul><li><a href="#get-content-items-by-delivery-id"><span>Get content items by delivery <wbr/>ID</span></a></li><li><a href="#get-content-items-by-key"><span>Get content items by key</span></a></li><li><a href="#get-content-items"><span>Get content items</span></a></li><li><a href="#fetch-content-items"><span>Fetch content items</span></a></li></ul></li><li><a href="#preview-staging-content"><span>Preview staging content</span></a></li><li><ul><li><a href="#previewing-staging-content-for-a-given-snapshot-or-at-a-given-point-in-time-time-machine"><span>Previewing staging content for a given <wbr/>Snapshot or at a given point in time (time machine)</span></a></li></ul></li><li><a href="#localize-content"><span>Localize content</span></a></li><li><a href="#transform-images"><span>Transform images</span></a></li><li><a href="#transform-content"><span>Transform content</span></a></li></ul></li><li><a href="#advanced"><span>Advanced</span></a></li><li><ul><li><a href="#override-fresh-api-retry-configuration"><span>Override <wbr/>Fresh <wbr/>API retry configuration</span></a></li><li><a href="#detecting-content-types"><span>Detecting content types</span></a></li><li><a href="#strongly-typed-content"><span>Strongly typed content</span></a></li><li><a href="#custom-media-cnames"><span>Custom media <wbr/>CNAM<wbr/>Es</span></a></li></ul></li><li><a href="#documentation"><span>Documentation</span></a></li><li><a href="#getting-help"><span>Getting <wbr/>Help</span></a></li><li><a href="#license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">dc-delivery-sdk-js</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
